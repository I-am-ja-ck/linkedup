/**
 * File        : index.mo
 * Copyright   : 2019 Enzo Haussecker
 * License     : Apache 2.0 with LLVM Exception
 * Maintainer  : Enzo Haussecker <enzo@dfinity.org>
 * Stability   : Experimental
 */

actor Index {

    public query func html() : async Text {
        "<!DOCTYPE html><html><head><meta charset=\"UTF-8\"><meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"><title>Connect | An open professional network.</title><link href=\"https://fonts.googleapis.com/css?family=Montserrat:700\" rel=\"stylesheet\" type=\"text/css\"><link href=\"https://fonts.googleapis.com/css?family=Raleway:500\" rel=\"stylesheet\" type=\"text/css\"><link href=\"https://fonts.googleapis.com/css?family=Roboto+Mono:400\" rel=\"stylesheet\" type=\"text/css\"><link href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.0/animate.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"><link href=\"/index.css\" rel=\"stylesheet\" type=\"text/css\"></head><body><div class=\"splash-view\"><div class=\"preloader-canvas\"><div class=\"preloader-image\"></div></div><nav class=\"fixed-top navbar navbar-custom navbar-expand-sm\"><div class=\"container\"><a class=\"navbar-brand\" href=\"/\"><span><i class=\"fa fa-share-alt\"></i> Connect</span></a><button class=\"navbar-toggler\" data-target=\"#menu\" data-toggle=\"collapse\" type=\"button\"><span class=\"navbar-toggler-icon\"></span></button><div class=\"collapse navbar-collapse navbar-menu\" id=\"menu\"><ul class=\"ml-auto navbar-nav\"><li class=\"nav-item\"><a class=\"nav-link\" data-dismiss=\"dropdown\" data-target=\"#register-form\" data-toggle=\"dropdown\" href=\"#\" id=\"register\">Register</a></li><li class=\"dropdown dropdown-custom nav-item\"><a class=\"nav-link\" data-dismiss=\"dropdown\" data-target=\"#login-form\" data-toggle=\"dropdown\" href=\"#\" id=\"login\">Login</a><form class=\"dropdown-menu dropdown-menu-right fade\" id=\"register-form\" role=\"form\" aria-labelledby=\"register\"><div class=\"modal-header\"><h4 class=\"modal-title\">Register</h4><button class=\"close pull-right\" data-toggle=\"dropdown\" type=\"button\">&times;</button></div><div class=\"modal-body\"><p>Write down the following mnemonic<br>seed on a piece of paper, keep it<br>somewhere safe, and never share it<br>with anyone. It is the only key to your<br>account and it cannot be recovered.</p><div class=\"mnemonic-seed\"></div></div><div class=\"modal-footer\"><button class=\"btn btn-lg btn-custom\" type=\"submit\">Complete</button></div></form><form class=\"dropdown-menu dropdown-menu-right fade\" id=\"login-form\" role=\"form\" aria-labelledby=\"login\"><div class=\"modal-header\"><h4 class=\"modal-title\">Login</h4><button class=\"close pull-right\" data-toggle=\"dropdown\" type=\"button\">&times;</button></div><div class=\"modal-body\"><p>Enter your mnemonic seed.</p><div class=\"response\"></div><div class=\"form-row\"><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-00\" name=\"word-00\" placeholder=\"01.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-01\" name=\"word-01\" placeholder=\"02.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-02\" name=\"word-02\" placeholder=\"03.\" type=\"password\"></div></div><div class=\"form-row\"><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-03\" name=\"word-03\" placeholder=\"04.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-04\" name=\"word-04\" placeholder=\"05.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-05\" name=\"word-05\" placeholder=\"06.\" type=\"password\"></div></div><div class=\"form-row\"><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-06\" name=\"word-06\" placeholder=\"07.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-07\" name=\"word-07\" placeholder=\"08.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-08\" name=\"word-08\" placeholder=\"09.\" type=\"password\"></div></div><div class=\"form-row\"><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-09\" name=\"word-09\" placeholder=\"10.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-10\" name=\"word-10\" placeholder=\"11.\" type=\"password\"></div><div class=\"col-lg-4 form-group form-group-lg\"><input class=\"form-control\" id=\"word-11\" name=\"word-11\" placeholder=\"12.\" type=\"password\"></div></div></div><div class=\"modal-footer\"><button class=\"btn btn-lg btn-custom\" type=\"submit\">Login</button></div></form></li></ul></div></div></nav><section class=\"intro\"><div class=\"container\"><div class=\"callout wow fadeInUp\" data-wow-delay=\"1s\"><h1>A<span id=\"typed\"></span><br>professional network.</h1></div></div></section></div><div class=\"profile-view hidden\"> TODO: Implement profile view! </div><script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js\" type=\"text/javascript\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js\" type=\"text/javascript\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/tweetnacl/1.0.1/nacl.min.js\" type=\"text/javascript\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js\" type=\"text/javascript\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.11/typed.min.js\" type=\"text/javascript\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/wow/1.0.3/wow.min.js\" type=\"text/javascript\"></script><script src=\"https://enzohaussecker.s3-us-west-2.amazonaws.com/js/rfc1751.min.js\" type=\"text/javascript\"></script><script src=\"/index.js\" type=\"text/javascript\"></script></body></html>\n"
    };

    public query func css() : async Text {
        "@charset 'UTF-8';.preloader-canvas{background-color:#FFF;bottom:0;left:0;position:fixed;right:0;top:0;z-index:1}.preloader-image{background-image:url('https://enzohaussecker.s3-us-west-2.amazonaws.com/images/loader.gif');background-position:center;background-repeat:no-repeat;height:200px;left:50%;margin:-100px 0 0 -100px;position:absolute;top:50%;width:200px}.navbar-custom{background-color:transparent}.navbar-custom>.container{color:#FFF;outline:0;padding-left:0;padding-right:0}.navbar-custom.collapse-custom{background-color:#FFF}.navbar-custom.collapse-custom>.container{color:#333}.navbar-toggler{outline:none !important}.navbar-toggler-icon{background-image:url('data:image/svg+xml;charset=utf8,<svgviewBox=\"003232\"xmlns=\"http://www.w3.org/2000/svg\"><pathstroke=\"rgba(51,51,51,1)\"stroke-width=\"4\"stroke-linecap=\"square\"stroke-miterlimit=\"8\"d=\"M48h24M416h24M424h24\"/></svg>')}.navbar-brand{color:inherit;font-family:'Montserrat',sans-serif;font-size:32px;font-weight:700;outline:inherit}.navbar-brand:hover{color:inherit}.nav-link{color:inherit;font-family:'Raleway',sans-serif;font-size:16px;font-weight:500;outline:inherit;text-transform:uppercase}.nav-link:hover{color:inherit}.dropdown-menu{margin-top:18px;padding:0}.dropdown-toggle:after{content:none}.modal-title{color:#222;font-family:'Montserrat',sans-serif;font-size:22px;font-weight:700}.modal-body{min-width:300px;padding:1rem 1rem 0 1rem;text-align:center}.modal-body>p{border-bottom:1px solid #e5e5e5;color:#545454;font-family:'Raleway',sans-serif;font-size:15px;font-weight:500;margin-bottom:15px;padding-bottom:15px}.modal-body>.response{color:red;margin-bottom:15px}.close:active{outline:0}.form-control{appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;-webkit-appearance:none;background-color:#f9f9f9;border:1px solid #e5e5e5;color:#545454;font-family:'Roboto Mono',sans-serif;font-size:15px;font-weight:400}.form-control:focus{border:1px solid #02adea;box-shadow:0 0 8px #29abe2;-moz-box-shadow:0 0 8px #29abe2;-ms-box-shadow:0 0 8px #29abe2;-o-box-shadow:0 0 8px #29abe2;-webkit-box-shadow:0 0 8px #29abe2}.btn:focus{box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none;-o-box-shadow:none;-webkit-box-shadow:none;color:#FFF}.btn-custom{background-color:#02adea;border-color:#02adea;border-radius:.25rem;color:#FFF;font-family:'Montserrat',sans-serif;font-size:18px;font-weight:700;height:46px;width:100%}.btn-custom:hover{color:#FFF}.intro{display:flex;display:-moz-flex;display:-ms-flex;display:-o-flex;display:-webkit-flex;flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;-o-flex-direction:column;-webkit-flex-direction:column;justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;-webkit-justify-content:center}.dim{background-image:url('https://enzohaussecker.s3-us-west-2.amazonaws.com/images/overlay.png');height:100%;position:absolute;width:100%}.callout{text-align:center}.callout>h1{color:#FFF;font-family:'Montserrat',sans-serif;font-size:24px;font-weight:700}@media(max-width:575px){.callout>h1{font-size:30px}}@media(min-width:576px) and (max-width:767px){.callout>h1{font-size:44px}}@media(min-width:768px) and (max-width:991px){.callout>h1{font-size:60px}}@media(min-width:992px) and (max-width:1199px){.callout>h1{font-size:80px}}@media(min-width:1200px){.callout>h1{font-size:92px}}.typed-cursor--blink{animation:typedjsBlink 1.5s infinite !important;-moz-animation:typedjsBlink 1.5s infinite !important;-ms-animation:typedjsBlink 1.5s infinite !important;-o-animation:typedjsBlink 1.5s infinite !important;-webkit-animation:typedjsBlink 1.5s infinite !important}\n"
    };

    public query func js() : async Text {
        "var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError(\"The 'this' value for String.prototype.\"+c+\" must not be null or undefined\");if(b instanceof RegExp)throw new TypeError(\"First argument to String.prototype.\"+c+\" must not be a regular expression\");return a+\"\"};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;\n$jscomp.defineProperty=$jscomp.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return\"undefined\"!=typeof window&&window===a?a:\"undefined\"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);\n$jscomp.polyfill=function(a,b,c,e){if(b){c=$jscomp.global;a=a.split(\".\");for(e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};\n$jscomp.polyfill(\"String.prototype.repeat\",function(a){return a?a:function(a){var c=$jscomp.checkStringArgs(this,null,\"repeat\");if(0>a||1342177279<a)throw new RangeError(\"Invalid count value\");a|=0;for(var b=\"\";a;)if(a&1&&(b+=c),a>>>=1)c+=c;return b}},\"es6\",\"es3\");$jscomp.stringPadding=function(a,b){a=void 0!==a?String(a):\" \";return 0<b&&a?a.repeat(Math.ceil(b/a.length)).substring(0,b):\"\"};\n$jscomp.polyfill(\"String.prototype.padStart\",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,null,\"padStart\");return $jscomp.stringPadding(c,a-b.length)+b}},\"es8\",\"es3\");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,f=0;f<e;f++){var g=a[f];if(b.call(c,g,f,a))return{i:f,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill(\"Array.prototype.find\",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},\"es6\",\"es3\");\n(function(a){a(document).ready(function(){function b(){var d=a(\".navbar-custom\");576>d.width()?d.addClass(\"collapse-custom\"):d.removeClass(\"collapse-custom\")}function c(){var d=a(window).innerHeight();a(\".intro\").css(\"height\",d)}function e(a){a=new Uint8Array(a);return Array.prototype.map.call(a,function(a){return(\"00\"+a.toString(16)).slice(-2)}).join(\"\")}function f(a){a.prop(\"disabled\",!0);a.empty();a.append('<i class=\"fa fa-cog fa-spin\"></i> Wait...')}function g(a){a.empty();a.append('<i class=\"fa fa-retweet\"></i> Try again');\na.prop(\"disabled\",!1)}(new WOW).init();b();a(window).resize(function(){b()});c();a(window).resize(function(){c()});a(\".intro\").backstretch(\"https://enzohaussecker.s3-us-west-2.amazonaws.com/images/handshake.jpg\");a(\".backstretch > img\").after('<span class=\"dim\"></span>');new Typed(\"#typed\",{cursorChar:\"_\",strings:[\"n&nbsp;autonomous\",\"&nbsp;transparent\",\"n&nbsp;unstoppable\",\"&nbsp;tamperproof\"],typeSpeed:50,backSpeed:25,backDelay:3E3,loop:!0});var h=[];a(\".dropdown\").on(\"show.bs.dropdown\",function(){var d=\nnew Uint8Array(16);window.crypto.getRandomValues(d);h=key_to_english(e(d)).split(\" \");d=\"\";for(var b=0;4>b;b++){d+='<div class=\"form-row\">';for(var c=0;3>c;c++)d=d+'<div class=\"col-lg-4 form-group form-group-lg\"><div class=\"form-control\">'+h[3*b+c]+\"</div></div>\";d+=\"</div>\"}a(\".mnemonic-seed\").html(d)});var l=function(a){return new Uint8Array(a.match(/.{1,2}/g).map(function(a){return parseInt(a,16)}))},m=function(a){return a.reduce(function(a,b){return a+b.toString(16).padStart(2,\"0\")},\"\")};a(\"#register-form\").submit(function(b){b.preventDefault();\nb=a(this).find('button[type=\"submit\"]');f(b);for(var c,d=0;12>d;d++)c=\"#word-\"+(\"00\"+d.toString()).slice(-2),a(c).val(h[d]);a(\"#login\").click();g(b)});var k;a(\"#login-form\").submit(function(b){b.preventDefault();var c=a(this).find('button[type=\"submit\"]');f(c);b=a(this).find(\".response\");for(var d=[],e=0;12>e;e++)word=\"#word-\"+(\"00\"+e.toString()).slice(-2),d.push(a(word).val());try{var h=new Uint8Array(32);h.set(l(english_to_key(d.join(\" \").toUpperCase())));k=nacl.sign.keyPair.fromSeed(h);alert(m(k.publicKey));\ng(c)}catch(n){b.hide().html('<div><i class=\"fa fa-warning\"></i> '+n.toString()+\"</div>\").slideDown(350,\"linear\",function(){g(c)})}})});a(window).on(\"load\",function(b){a(\".preloader-canvas\").fadeOut(1E3,\"linear\")})})(jQuery);\n"
    };

}
